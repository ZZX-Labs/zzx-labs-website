/* =======================================================================
   ZZX-Labs · Inspiration / Figures · style.css
   - Card body exactly matches page background
   - Colored rim only (no hue wash inside)
   - True 8px gaps between cards
   - Comfortable inner gutters
   ======================================================================= */

/* ========== Theme Vars ========== */
:root{
  --accent: #c0d674;
  --muted:  #8a8f98;
  --bg-alt: #0f1216; /* page + card body background */
  --fg:     #e8e8e8;

  /* Subtle outline/shadow */
  --card-br: rgba(255,255,255,0.08);
  --card-shadow: 0 8px 28px rgba(0,0,0,0.30);

  /* Colored rim (JS sets --edge per-card) */
  --edge: var(--accent);

  /* Rim as a real border (preserves grid gaps) */
  --rim: 8px;
  --rim-hover: 10px;

  /* Inner spacing (keeps content away from rim) */
  --edge-gap: 8px;   /* inner gutter between rim & content */
  --inset-x: 16px;   /* section horizontal padding */
  --inset-y: 14px;   /* section vertical padding */

  /* Grid spacing */
  --grid-gap: 8px;   /* exact spacing between cards */
  --grid-pad: 8px;   /* breathing room around grid */
}

@media (max-width: 640px){ :root{ --inset-x: 14px; --inset-y: 12px; } }
@media (max-width: 480px){ :root{ --rim: 6px; --rim-hover: 8px; } }

/* ========== Page Shell ========== */
body.inspiration{ background: var(--bg-alt); color: var(--fg); }

.page-container{ max-width: 1280px; margin: 0 auto; padding: 16px; }
.breadcrumbs{ font-size: .9rem; color: var(--muted); margin: .5rem 0 1rem; }
.breadcrumbs a{ color: var(--accent); text-decoration: none; }
.notice{
  background: rgba(192,214,116,0.06);
  border: 1px solid rgba(192,214,116,0.25);
  padding: .75rem 1rem;
  border-radius: 8px;
  font-size: .95rem;
  margin: 1rem 0;
}

/* ========== Grid ========== */
.features h2{ margin: .5rem 0 1rem; color: var(--fg); }

.feature-card-container{
  display: grid;
  gap: var(--grid-gap);
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  align-items: stretch;
  padding: var(--grid-pad);
}

/* Center the block after the grid */
.feature-card-container + *{
  display: flex; flex-direction: column;
  align-items: center; justify-content: center; text-align: center;
  gap: .5rem;
}

/* ========== Card (body uses the PAGE BACKGROUND) ========== */
.feature-card{
  position: relative;
  display: flex; flex-direction: column;
  min-height: 280px;

  /* Draw the rim INSIDE via layered backgrounds:
     - padding-box = card body (same as page background)
     - border-box  = colored rim
  */
  border: var(--rim) solid transparent;
  border-radius: 16px;
  background:
    linear-gradient(var(--bg-alt), var(--bg-alt)) padding-box,
    linear-gradient(var(--edge, var(--accent)), var(--edge, var(--accent))) border-box;
  background-clip: padding-box, border-box;

  /* Subtle outline + drop shadow */
  box-shadow: inset 0 0 0 1px var(--card-br), var(--card-shadow);
  color: var(--fg);
  overflow: hidden;

  /* Inner gutter so content never hugs the rim */
  padding: var(--edge-gap);
}

.feature-card:hover{
  box-shadow:
    inset 0 0 0 1px var(--card-br),
    0 10px 30px rgba(0,0,0,0.35);
}

.feature-card:focus-within{
  outline: none;
  border-width: var(--rim-hover);
}

/* ========== Header ========== */
.feature-card .card-header{
  display: flex; align-items: center; gap: .75rem;
  padding: var(--inset-y) var(--inset-x);
  border: 1px solid var(--card-br);
  border-radius: 10px;
  background: transparent; /* exact same as card/page body */
}

.feature-card .swatch{
  width: 18px; height: 18px; border-radius: 4px; flex: 0 0 auto;
  background: var(--edge, var(--accent));
  outline: 1px solid rgba(255,255,255,.25);
}

.feature-card h3{ margin: 0; color: var(--fg); font-size: 1.05rem; }

/* ========== Image Block ========== */
.feature-card .figure-wrap{
  position: relative; width: 100%;
  aspect-ratio: 16/10; overflow: hidden;
  border: 1px solid var(--card-br);
  border-radius: 10px;
  background: var(--bg-alt);
  margin-top: 10px;
}
.feature-card .figure-wrap img{
  width: 100%; height: 100%; object-fit: cover; display: block;
}
.feature-card .figure-wrap img[src*="placeholder"]{
  filter: grayscale(1) contrast(.9) opacity(.85);
}

/* ========== Actions Row ========== */
.feature-card .card-actions{
  display: flex; gap: .6rem;
  padding: calc(var(--inset-y) - 2px) var(--inset-x);
  border: 1px solid var(--card-br);
  border-radius: 10px;
  background: transparent;
  margin-top: 10px;
}
.feature-card .card-actions button{
  background: transparent; color: var(--fg);
  border: 1px solid var(--card-br);
  border-radius: 6px; padding: .36rem .7rem; cursor: pointer;
}
.feature-card .card-actions button:hover{ border-color: rgba(255,255,255,.3); }

/* ========== Content ========== */
.feature-card .card-content{
  padding: var(--inset-y) var(--inset-x) calc(var(--inset-y) + 6px);
  border: 1px solid var(--card-br);
  border-radius: 10px;
  background: transparent;
  margin-top: 10px;
}
.feature-card .fig-name{ font-weight: 700; margin: 0 0 .4rem; }
.feature-card .fig-meta{ color: var(--muted); font-size: .92rem; }
.feature-card .fig-meta ul{ margin: .25rem 0 .55rem; padding-left: 0; list-style: none; }
.feature-card .fig-meta li{ margin: .15rem 0; }
.feature-card .fig-about p{ margin: .55rem 0; line-height: 1.55; }
.muted{ color: var(--muted); }

/* ========== Collapsibles ========== */
.subsection.collapsible{
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 8px;
  padding: 0.25rem 0.5rem;
  background: rgba(255,255,255,0.03);
  margin: .65rem 0;
}
.subsection.collapsible > summary{
  list-style: none; cursor: pointer; font-weight: 600; color: var(--fg);
  padding: 0.35rem 0.25rem;
}
.subsection.collapsible > summary::-webkit-details-marker{ display: none; }
.subsection.collapsible > summary::after{ content: " ▸"; color: var(--muted); }
.subsection.collapsible[open] > summary::after{ content: " ▾"; }
.subsection.collapsible .collapsible-body{ padding: 0.45rem 0.25rem 0.8rem; }
.subsection.collapsible:not([open]) .collapsible-body{ display: none !important; }

/* ========== Wiki content cleanup ========== */
.card-content img{ max-width: 100%; height: auto; }
.card-content table{ width: 100%; border-collapse: collapse; }
.card-content th, .card-content td{
  border: 1px solid rgba(255,255,255,0.1);
  padding: .35rem;
}
.card-content .infobox,
.card-content .navbox,
.card-content .metadata,
.card-content .mw-editsection{ display: none !important; }

/* ========== Links ========== */
a{ color: var(--accent); }
.feature-card a{ text-decoration-color: rgba(255,255,255,.25); }
.feature-card a:hover{ text-decoration-color: rgba(255,255,255,.5); }

/* ========== Utility ========== */
ul, .submenu, .footer-links{ list-style: none; padding-left: 0; }

/* Narrow view tweak */
@media (max-width: 360px){
  .feature-card-container{ gap: var(--grid-gap); grid-template-columns: 1fr; }
}

/* Brand focus for the figures search box */
#figure-filter{
  outline: none; /* we’ll draw our own */
  transition: border-color .2s ease, box-shadow .2s ease;
  caret-color: #c0d674;
}
#figure-filter:focus,
#figure-filter:focus-visible{
  border-color: #c0d674 !important;           /* beat inline border */
  outline: 2px solid #c0d674;
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(192,214,116,0.25); /* soft glow */
}

/* ===== Figures page layout override (stack + center) ===== */
body.inspiration .features{
  display: flex;
  flex-direction: column;          /* stack grid then the content below */
  align-items: center;
  gap: 24px;                       /* space between the grid and the section below */
  padding-inline: var(--grid-pad);
}

/* Make the grid fill the width; keep exact 8px gaps you set */
body.inspiration .features .feature-card-container{
  width: 100%;
  margin-inline: auto;
  gap: var(--grid-gap);            /* 8px as defined */
}

/* Center any block(s) after the grid */
body.inspiration .features > :not(.feature-card-container){
  width: 100%;
  max-width: 1280px;
  margin-inline: auto;             /* center horizontally */
  text-align: center;
}
